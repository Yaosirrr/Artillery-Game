# About
This is a NodeJS project for Neocis job application. Originally developed on Mac M1. This project create a multiplayer artillery game using JavaScript (j5.ps) and Websocket (socket.io).

Author: Renjie Yao

Date: 02/26/2023

# How to start the project
1. Install the dependencies

- Make sure you have NodeJS, if not, please download it at https://nodejs.org/en/download/

- Go to the server directory, install express and socket.io, you can use the following command:
     - cd server
     - npm install express
     - npm install socket.io
  
2. Start the server

- To start the server, go to the server directory and run the index.js script
  - cd server
  - node .
 
3. Visit the server

- The server will listen to 3000 port, so open a new browser window and go to http://localhost:3000/

4. Create multiple players

- Make sure you open the new window instead of the new tab, open a new window for each player

5. Play the game

- Open two windows, the first window will be the player1, the second will be player2. Player1 starts first and then player2 take the turn until one player wins.

# Project Folder Structure

```
.
├── app
│   ├── README.md
│   ├── index.html
│   ├── main.js
│   ├── box.js
│   ├── button.js
│   ├── cannon.js
│   ├── projectile.js
│   └── text.js
│   ├── style.css
│   ├── images
│   │   └── cannon.svg
│   ├── lib
│   │   └── p5.min.js
└── server
    ├── index.js
    ├── node_modules
    ├── package-lock.json
    └── package.json
```

- The app folder contains the frontend of the website
  - index.html: the html file for the page
  - main.js: the main file contains the game logic
  - box.js: the box class, it's used to create a rectangle box
  - button.js: the button class, this class inherits the box class and create some additional features to create the text inside the box
  - cannon.js: the cannon class, this class inherits the box class and create some additional features to load the image for the box
  - projectile.js: the projectile class, this class define all the attributes of a projectile, and the update method for its movement
  - text.js: the text class, quickly create a text on the screen
  - style.css: the css file to change the original elements style
  - images: the images used in this game
  - lib: p5.min.js, this is the heart of the game
  
- The server folder contains the websocket server as the backend
  - index.js: the server logic
  - others: configuration files generated by npm

# Reasons I use these technologies
1. The project require me to create a game on the web, JavaScript came up to my mind right away. It is very easy to use JavaScript to handle a webpage, it's easy to handle both the frontend and the events on the webpage.

2. After some researches, I found that p5.js is a great tool to create games, it has integrated lots of functions to create shapes and draw the shapes on the webpage. I took some time to learn p5.js and then started the project.

3. This project requires multiplayer, thus I need a server to do this. Websocket is the first thing came up to my mind, socket.io is a library built on top of WebSockets that provides additional features and functionality, which makes it advantageous over using WebSockets alone in certain situations.

4. Instead of sending http request and waiting for the responses, socket.io enables the project to design the game by the event. It's easy to create separate rooms for different users and make them a pair to play in the same game.

5. Another reason I use JavaScript is that I want to expand my skills. My most proficient language is Python, but this time I also want to do something new.

# What I have done

1. Handle multiplayer situation
- Whenever a newplayer come, he will either join in a game with another waiting player, or to be the waiting player himself to wait the next player

2. Handle each game separately
- Each separate game will have its own room, data will only be shared within this room

3. The game itself!
- Make almost all features in this game come true. Use OOP concept to build the game. Create multiple classes just in case the game will become bigger in the future.

# What I can do better

1. The frontend
- Now I only build the very basic frontend of the game, due to the time limit, I don't have the time to write the style sheet (css)

2. The drag and wind resistance
- I did some research on this (https://www1.grc.nasa.gov/beginners-guide-to-aeronautics/drag-on-a-sphere/#:~:text=D%20%3D%20Cd%20*%20.,Cd%20is%20the%20drag%20coefficient.). Unfortunately due to some parameters not given, I don't have more time to search more information about the coefficient value. I took the wind into consideration, but didn't have enough time to build the physical model for the bullet.

3. Disconnected Player
- Once a player disconnected, another player will automatically win. I do have the idea of doing better, that is, once a player disconnect, set the game state to be 'pause'. Once it reconnects, the server emit an event to the client in this room, and the client listen to the reconnect event to set the game state back.
